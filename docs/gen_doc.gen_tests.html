---

title: gen_doc.gen_tests
keywords: 
sidebar: home_sidebar


---

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="gen_doc.gen_tests">gen_doc.gen_tests<a class="anchor-link" href="#gen_doc.gen_tests">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This module attempts to make writing tests a little easier by moving the whole process inside a Jupyter notebook.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Workflow-for-generating-fastai-tests-from-notebook">Workflow for generating fastai tests from notebook<a class="anchor-link" href="#Workflow-for-generating-fastai-tests-from-notebook">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Summary of steps:</p>
<ol>
<li>Use <a href="/gen_doc.nbtest.html#show_test"><code>nbtest.show_test</code></a> to find an api function you'd like to create a test for</li>
<li>Use <a href="/gen_doc.gen_tests.html#show_skeleton_test"><code>show_skeleton_test</code></a> to generate barebones test function</li>
<li>Write test function in notebook and run it</li>
<li>Save test to corresponding file with <a href="/gen_doc.gen_tests.html#save_test"><code>save_test</code></a></li>
<li>Verify and run test suite inline with <code>!pytest</code></li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Step-1:-Find-an-api-function-you-want-to-test">Step 1: Find an api function you want to test<a class="anchor-link" href="#Step-1:-Find-an-api-function-you-want-to-test">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Candidate: <a href="/data_block.html#ItemList.from_df"><code>ItemList.from_df</code></a><br>
Check if there are any existing tests:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_test</span><span class="p">(</span><span class="n">ItemList</span><span class="o">.</span><span class="n">from_df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p>Tests found for <code>from_df</code>:</p>
<p>Related tests:</p>
<ul>
<li><code>pytest -sv -k test_multi_category tests/test_data_block.py</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_data_block.py#L46">[source]</a></li>
<li><code>pytest -sv -k test_regression tests/test_data_block.py</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_data_block.py#L103">[source]</a></li>
<li><code>pytest -sv -k test_category_processor_non_existing_class tests/test_data_block.py</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_data_block.py#L84">[source]</a></li>
<li><code>pytest -sv -k test_category_processor_existing_class tests/test_data_block.py</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_data_block.py#L74">[source]</a></li>
<li><code>pytest -sv -k test_category tests/test_data_block.py</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_data_block.py#L5">[source]</a></li>
</ul>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br></p>
<p>Looks like there are already several related tests.<br>
Let's try another function: <a href="/data_block.html#ItemList.get"><code>ItemList.get</code></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_test</span><span class="p">(</span><span class="n">ItemList</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p>No tests found for <code>get</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Cool none exist. Let's create a skeleton test</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Step-2:-generate-skeleton-test">Step 2: generate skeleton test<a class="anchor-link" href="#Step-2:-generate-skeleton-test">&#182;</a></h3><p><a href="/gen_doc.gen_tests.html#show_skeleton_test"><code>show_skeleton_test</code></a> provides some skeleton code to help get started with your test function<br>
You can also skip this part and create your test function from scratch too.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="show_skeleton_test"><code>show_skeleton_test</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/gen_tests.py#L10" class="source_link">[source]</a></h4><blockquote><p><code>show_skeleton_test</code>(<strong><code>elt</code></strong>)</p>
</blockquote>
<p>Display skeleton test in notebook</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">elt</span> <span class="o">=</span> <span class="n">ItemList</span><span class="o">.</span><span class="n">get</span> <span class="c1"># let&#39;s do TextList.get</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_skeleton_test</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_ItemList_get</span><span class="p">():</span>
    <span class="n">i</span> <span class="o">=</span> <span class="c1"># instantiate param &#39;i&#39;</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="n">ItemList</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="n">Iterator</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="bp">None</span><span class="p">,</span> <span class="s2">&quot;get should...&quot;</span>
</pre></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Step-3:-Fill-in-generated-skeleton-method-from-above">Step 3: Fill in generated skeleton method from above<a class="anchor-link" href="#Step-3:-Fill-in-generated-skeleton-method-from-above">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note: following was copied and pasted from <a href="/gen_doc.gen_tests.html#show_skeleton_test"><code>show_skeleton_test</code></a> output</p>
<p>If you skipped <code>Step 2:</code> just create a test function from scratch</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_ItemList_get</span><span class="p">():</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">tl</span> <span class="o">=</span> <span class="n">ItemList</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">tl</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">10</span><span class="p">,</span> <span class="n">f</span><span class="s2">&quot;textlist should get idx </span><span class="si">{idx}</span><span class="s2">&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Yay this passed&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Verify function works from notebook:</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_ItemList_get</span><span class="p">()</span> <span class="c1"># woot!</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Yay this passed
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Step-4:-Save-test-to-fastai/tests">Step 4: Save test to <code>fastai/tests</code><a class="anchor-link" href="#Step-4:-Save-test-to-fastai/tests">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After you've create the function, you can save it to the fastai/tests folder directly from notebook.<br>
<a href="/gen_doc.gen_tests.html#save_test"><code>save_test</code></a> will search or a file named <code>test_{module_name}.py</code>, create if it doesn't exist, then append your test function.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="save_test"><code>save_test</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/gen_tests.py#L82" class="source_link">[source]</a></h4><blockquote><p><code>save_test</code>(<strong><code>elt</code></strong>, <strong><code>test_function</code></strong>)</p>
</blockquote>
<p>Saves <code>test_function</code> in the <code>fastai/tests</code> directory for a given fastai <code>elt</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_file</span> <span class="o">=</span> <span class="n">save_test</span><span class="p">(</span><span class="n">elt</span><span class="p">,</span> <span class="n">test_ItemList_get</span><span class="p">);</span> <span class="n">test_file</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Test file already exists. Appending test function to end
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>PosixPath(&#39;/Users/andrewshaw/Projects/ML/fastai/tests/test_data_block.py&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Step-5:-Verify-test-works-from-command-line">Step 5: Verify test works from command line<a class="anchor-link" href="#Step-5:-Verify-test-works-from-command-line">&#182;</a></h3><p>Let's run the newly added test and make sure it passes in the test suite.<br>
Copy the pytest command from the output above (<a href="/gen_doc.nbtest.html#show_test"><code>show_test</code></a>) and try running it inline:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>If test was saved correctly. We should be able to find it now with <a href="/gen_doc.nbtest.html#show_test"><code>show_test</code></a></strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_test</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p>Tests found for <code>get</code>:</p>
<p>Direct tests:</p>
<ul>
<li><code>pytest -sv -k test_ItemList_get tests/test_data_block.py</code> <a href="https://github.com/fastai/fastai/blob/master/tests/test_data_block.py#L126">[source]</a></li>
</ul>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>pytest -sv -k test_ItemList_get ../tests/test_data_block.py
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-bold">============================= test session starts ==============================</span>
platform darwin -- Python 3.7.0, pytest-4.2.0, py-1.7.0, pluggy-0.8.1 -- /Users/andrewshaw/miniconda3/envs/fastai/bin/python
cachedir: .pytest_cache
rootdir: /Users/andrewshaw/Projects/ML/fastai, inifile: setup.cfg
collected 9 items / 8 deselected / 1 selected                                  

../tests/test_data_block.py::test_ItemList_get Yay this passed
<span class="ansi-green-fg">PASSED</span>

<span class="ansi-green-intense-fg ansi-bold">==================== 1 passed, 8 deselected in 0.08 seconds ====================</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Sanity check.</strong><br>
Make sure test function <code>test_ItemList_get</code> has really been appended to <code>fastai/tests/test_data_block.py</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="test_filename"><code>test_filename</code><a href="https://github.com/fastai/fastai/blob/master/fastai/gen_doc/gen_tests.py#L101" class="source_link">[source]</a></h4><blockquote><p><code>test_filename</code>(<strong><code>elt</code></strong>) → <code>str</code></p>
</blockquote>
<p>Returns the file location where the tests of an api function should be located</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_file</span> <span class="o">=</span> <span class="n">test_filename</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">test_file</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">test_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">contents</span><span class="p">[</span><span class="o">-</span><span class="mi">14</span><span class="p">:]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>/Users/andrewshaw/Projects/ML/fastai/tests/test_data_block.py
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;\n&#39;,
 &#39;def test_custom_dataset():\n&#39;,
 &#39;    tr_dataset = CustomDataset([1, 2, 3])\n&#39;,
 &#39;    val_dataset = CustomDataset([4, 5, 6])\n&#39;,
 &#39;    data = DataBunch.create(tr_dataset, val_dataset)\n&#39;,
 &#39;\n&#39;,
 &#39;\n&#39;,
 &#39;\n&#39;,
 &#39;def test_ItemList_get():\n&#39;,
 &#39;    idx = 3\n&#39;,
 &#39;    tl = ItemList(items=[1,2,3,10,4])\n&#39;,
 &#39;    result = tl.get(idx)\n&#39;,
 &#39;    assert result == 10, f&#34;textlist should get idx {idx}&#34;\n&#39;,
 &#34;    print(&#39;Yay this passed&#39;)\n&#34;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Other-test-skeleton-generated-examples">Other test skeleton generated examples<a class="anchor-link" href="#Other-test-skeleton-generated-examples">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.basic_data</span> <span class="k">import</span> <span class="n">DataBunch</span>
<span class="n">show_skeleton_test</span><span class="p">(</span><span class="n">DataBunch</span><span class="o">.</span><span class="n">remove_tfm</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_DataBunch_remove_tfm</span><span class="p">():</span>
    <span class="n">tfm</span><span class="p">:</span><span class="n">Callable</span> <span class="o">=</span> <span class="n">Callable</span><span class="p">()</span> <span class="c1"># instantiate param &#39;tfm&#39;</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="n">DataBunch</span><span class="p">(</span><span class="n">train_dl</span><span class="p">:</span><span class="n">DataLoader</span><span class="p">,</span> <span class="n">valid_dl</span><span class="p">:</span><span class="n">DataLoader</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">remove_tfm</span><span class="p">(</span><span class="n">tfm</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="bp">None</span><span class="p">,</span> <span class="s2">&quot;remove_tfm should...&quot;</span>
</pre></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.basic_data</span> <span class="k">import</span> <span class="n">load_data</span>
<span class="n">show_skeleton_test</span><span class="p">(</span><span class="n">load_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_load_data</span><span class="p">():</span>
    <span class="n">path</span><span class="p">:</span><span class="n">PathOrStr</span> <span class="o">=</span> <span class="n">PathOrStr</span><span class="p">()</span> <span class="c1"># instantiate param &#39;path&#39;</span>
    <span class="n">result</span><span class="p">:</span><span class="n">DataBunch</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="bp">None</span><span class="p">,</span> <span class="s2">&quot;load_data should...&quot;</span>
</pre></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.torch_core</span> <span class="k">import</span> <span class="n">calc_loss</span>
<span class="n">show_skeleton_test</span><span class="p">(</span><span class="n">calc_loss</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_calc_loss</span><span class="p">():</span>
    <span class="n">y_pred</span><span class="p">:</span><span class="n">Tensor</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">()</span> <span class="c1"># instantiate param &#39;y_pred&#39;</span>
    <span class="n">y_true</span><span class="p">:</span><span class="n">Tensor</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">()</span> <span class="c1"># instantiate param &#39;y_true&#39;</span>
    <span class="n">loss_func</span><span class="p">:</span><span class="n">LossFunction</span> <span class="o">=</span> <span class="n">LossFunction</span><span class="p">()</span> <span class="c1"># instantiate param &#39;loss_func&#39;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">calc_loss</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y_true</span><span class="p">,</span> <span class="n">loss_func</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="bp">None</span><span class="p">,</span> <span class="s2">&quot;calc_loss should...&quot;</span>
</pre></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">fastai.torch_core</span> <span class="k">import</span> <span class="n">uniform</span>
<span class="n">show_skeleton_test</span><span class="p">(</span><span class="n">uniform</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_uniform</span><span class="p">():</span>
    <span class="n">low</span><span class="p">:</span><span class="n">Number</span> <span class="o">=</span> <span class="n">Number</span><span class="p">()</span> <span class="c1"># instantiate param &#39;low&#39;</span>
    <span class="n">result</span><span class="p">:</span><span class="n">FloatOrTensor</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="bp">None</span><span class="p">,</span> <span class="s2">&quot;uniform should...&quot;</span>
</pre></div>

</div>

</div>

</div>
</div>

</div>
</div>
 

